import{o as w,j as r,m as b,r as x,E,n as M,q as F,s as P,y as R,F as O,p as z,P as B}from"./index-ba7c151b.js";import{M as $,a as T,b as W,c as q}from"./chunk-Z3VR2BFQ-0b86005e.js";import"./popper-f3391c26.js";var[G,H]=w({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"});function Z(t){var e;const a=t.split(" "),s=(e=a[0])!=null?e:"",n=a.length>1?a[a.length-1]:"";return s&&n?`${s.charAt(0)}${n.charAt(0)}`:s.charAt(0)}function y(t){const{name:e,getInitials:a,...s}=t,n=H();return r.jsx(b.div,{role:"img","aria-label":e,...s,__css:n.label,children:e?a==null?void 0:a(e):null})}y.displayName="AvatarName";var C=t=>r.jsxs(b.svg,{viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg",...t,children:[r.jsx("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),r.jsx("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]});function D(t){const{loading:e,src:a,srcSet:s,onLoad:n,onError:u,crossOrigin:i,sizes:m,ignoreFallback:f}=t,[d,g]=x.useState("pending");x.useEffect(()=>{g(a?"loading":"pending")},[a]);const c=x.useRef(),h=x.useCallback(()=>{if(!a)return;l();const o=new Image;o.src=a,i&&(o.crossOrigin=i),s&&(o.srcset=s),m&&(o.sizes=m),e&&(o.loading=e),o.onload=v=>{l(),g("loaded"),n==null||n(v)},o.onerror=v=>{l(),g("failed"),u==null||u(v)},c.current=o},[a,i,s,m,n,u,e]),l=()=>{c.current&&(c.current.onload=null,c.current.onerror=null,c.current=null)};return E(()=>{if(!f)return d==="loading"&&h(),()=>{l()}},[d,h,f]),f?"loaded":d}function L(t){const{src:e,srcSet:a,onError:s,onLoad:n,getInitials:u,name:i,borderRadius:m,loading:f,iconLabel:d,icon:g=r.jsx(C,{}),ignoreFallback:c,referrerPolicy:h,crossOrigin:l}=t,v=D({src:e,onError:s,crossOrigin:l,ignoreFallback:c})==="loaded";return!e||!v?i?r.jsx(y,{className:"chakra-avatar__initials",getInitials:u,name:i}):x.cloneElement(g,{role:"img","aria-label":d}):r.jsx(b.img,{src:e,srcSet:a,alt:i,onLoad:n,referrerPolicy:h,crossOrigin:l??void 0,className:"chakra-avatar__img",loading:f,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:m}})}L.displayName="AvatarImage";var J={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},S=M((t,e)=>{const a=F("Avatar",t),[s,n]=x.useState(!1),{src:u,srcSet:i,name:m,showBorder:f,borderRadius:d="full",onError:g,onLoad:c,getInitials:h=Z,icon:l=r.jsx(C,{}),iconLabel:o=" avatar",loading:v,children:j,borderColor:p,ignoreFallback:k,crossOrigin:N,referrerPolicy:_,...I}=P(t),A={borderRadius:d,borderWidth:f?"2px":void 0,...J,...a.container};return p&&(A.borderColor=p),r.jsx(b.span,{ref:e,...I,className:R("chakra-avatar",t.className),"data-loaded":O(s),__css:A,children:r.jsxs(G,{value:a,children:[r.jsx(L,{src:u,srcSet:i,loading:v,onLoad:z(c,()=>{n(!0)}),onError:g,getInitials:h,name:m,borderRadius:d,icon:l,iconLabel:o,ignoreFallback:k,crossOrigin:N,referrerPolicy:_}),j]})})});S.displayName="Avatar";const V=({user:{name:t,colorCode:e},logout:a})=>r.jsxs($,{placement:"bottom-end",children:[r.jsx(T,{children:r.jsx(S,{name:t,bg:e,color:"white"})}),r.jsx(B,{children:r.jsx(W,{zIndex:999,children:r.jsx(q,{onClick:a,children:"Logout"})})})]});export{V as default};
