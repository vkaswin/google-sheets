import{r as a,J as v,K as y,j as e}from"./index-ba7c151b.js";import{c as N}from"./popper-f3391c26.js";var g=function(i){return i.reduce(function(l,t){var c=t[0],s=t[1];return l[c]=s,l},{})},F=typeof window<"u"&&window.document&&window.document.createElement?a.useLayoutEffect:a.useEffect,k=[],w=function(i,l,t){t===void 0&&(t={});var c=a.useRef(null),s={onFirstUpdate:t.onFirstUpdate,placement:t.placement||"bottom",strategy:t.strategy||"absolute",modifiers:t.modifiers||k},f=a.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),p=f[0],b=f[1],h=a.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(o){var u=o.state,j=Object.keys(u.elements);v.flushSync(function(){b({styles:g(j.map(function(d){return[d,u.styles[d]||{}]})),attributes:g(j.map(function(d){return[d,u.attributes[d]]}))})})},requires:["computeStyles"]}},[]),m=a.useMemo(function(){var n={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[h,{name:"applyStyles",enabled:!1}])};return y(c.current,n)?c.current||n:(c.current=n,n)},[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,h]),r=a.useRef();return F(function(){r.current&&r.current.setOptions(m)},[m]),F(function(){if(!(i==null||l==null)){var n=t.createPopper||N,o=n(i,l,m);return r.current=o,function(){o.destroy(),r.current=null}}},[i,l,t.createPopper]),{state:r.current?r.current.state:null,styles:p.styles,attributes:p.attributes,update:r.current?r.current.update:null,forceUpdate:r.current?r.current.forceUpdate:null}};const P=({rect:x,onCopy:i,onCut:l,onPaste:t,onDeleteCell:c,onDeleteRow:s,onDeleteColumn:f,onInsertRow:p,onInsertColumn:b})=>{const[h,m]=a.useState(null),r=a.useMemo(()=>({getBoundingClientRect:()=>({width:0,height:0,right:0,bottom:0,left:x.x,top:x.y})}),[x]),{attributes:n,styles:o}=w(r,h,{placement:"right"}),u=()=>e.jsx("div",{className:"w-full h-[1px] bg-[#dadce0] my-3"});return e.jsx("div",{ref:m,className:"w-72 shadow-[0_2px_6px_2px_rgba(60,64,67,.15)] border border-transparent rounded bg-white z-50",style:o.popper,...n.popper,children:e.jsxs("div",{className:"flex flex-col py-3 font-medium",children:[e.jsxs("button",{className:"flex justify-between items-center h-8 hover:bg-[#F1F3F4] text-mild-black font-medium px-3",onClick:l,children:[e.jsxs("span",{className:"flex items-center gap-3",children:[e.jsx("i",{className:"bx-cut text-xl"}),"Cut"]}),e.jsx("span",{children:"Ctrl+X"})]}),e.jsxs("button",{className:"flex justify-between items-center h-8 hover:bg-[#F1F3F4] text-mild-black font-medium px-3",onClick:i,children:[e.jsxs("span",{className:"flex items-center gap-3",children:[e.jsx("i",{className:"bx-copy text-xl"}),"Copy"]}),e.jsx("span",{children:"Ctrl+C"})]}),e.jsxs("button",{className:"flex justify-between items-center h-8 hover:bg-[#F1F3F4] text-mild-black font-medium px-3",onClick:t,children:[e.jsxs("span",{className:"flex items-center gap-3",children:[e.jsx("i",{className:"bx-paste text-xl"}),"Paste"]}),e.jsx("span",{children:"Ctrl+P"})]}),e.jsx(u,{}),e.jsxs("button",{className:"flex gap-3 items-center h-8 hover:bg-[#F1F3F4] text-mild-black font-medium px-3",onClick:()=>p("top"),children:[e.jsx("i",{className:"bx-plus text-xl"}),e.jsx("span",{children:"Insert one row top"})]}),e.jsxs("button",{className:"flex gap-3 items-center h-8 hover:bg-[#F1F3F4] text-mild-black font-medium px-3",onClick:()=>p("bottom"),children:[e.jsx("i",{className:"bx-plus text-xl"}),e.jsx("span",{children:"Insert one row bottom"})]}),e.jsxs("button",{className:"flex gap-3 items-center h-8 hover:bg-[#F1F3F4] text-mild-black font-medium px-3",onClick:()=>b("left"),children:[e.jsx("i",{className:"bx-plus text-xl"}),e.jsx("span",{children:"Insert one column left"})]}),e.jsxs("button",{className:"flex gap-3 items-center h-8 hover:bg-[#F1F3F4] text-mild-black font-medium px-3",onClick:()=>b("right"),children:[e.jsx("i",{className:"bx-plus text-xl"}),e.jsx("span",{children:"Insert one column right"})]}),e.jsx(u,{}),e.jsxs("button",{className:"flex gap-3 items-center h-8 hover:bg-[#F1F3F4] text-mild-black font-medium px-3",onClick:s,children:[e.jsx("i",{className:"bx-trash text-xl"}),e.jsx("span",{children:"Delete row"})]}),e.jsxs("button",{className:"flex gap-3 items-center h-8 hover:bg-[#F1F3F4] text-mild-black font-medium px-3",onClick:f,children:[e.jsx("i",{className:"bx-trash text-xl"}),e.jsx("span",{children:"Delete column"})]}),e.jsxs("button",{className:"flex gap-3 items-center h-8 hover:bg-[#F1F3F4] text-mild-black font-medium px-3",onClick:c,children:[e.jsx("i",{className:"bx-trash text-xl"}),e.jsx("span",{children:"Delete cell"})]})]})})};export{P as default};
