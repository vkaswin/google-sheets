import{r as a,o as oe,H as X,F as me,I as Z,E as Pe,p as te,q as Se,s as Ne,t as Te,j as D,v as Ae,n as B,m as $,y as V,w as Re,x as Le}from"./index-ba7c151b.js";import{c as Fe}from"./popper-f3391c26.js";var je=Object.defineProperty,ze=(e,t,n)=>t in e?je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I=(e,t,n)=>(ze(e,typeof t!="symbol"?t+"":t,n),n);function ue(e){return e.sort((t,n)=>{const r=t.compareDocumentPosition(n);if(r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(r&Node.DOCUMENT_POSITION_DISCONNECTED||r&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var Ue=e=>typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE;function ie(e,t,n){let r=e+1;return n&&r>=t&&(r=0),r}function ce(e,t,n){let r=e-1;return n&&r<0&&(r=t),r}var ne=typeof window<"u"?a.useLayoutEffect:a.useEffect,Y=e=>e,We=class{constructor(){I(this,"descendants",new Map),I(this,"register",e=>{if(e!=null)return Ue(e)?this.registerNode(e):t=>{this.registerNode(t,e)}}),I(this,"unregister",e=>{this.descendants.delete(e);const t=ue(Array.from(this.descendants.keys()));this.assignIndex(t)}),I(this,"destroy",()=>{this.descendants.clear()}),I(this,"assignIndex",e=>{this.descendants.forEach(t=>{const n=e.indexOf(t.node);t.index=n,t.node.dataset.index=t.index.toString()})}),I(this,"count",()=>this.descendants.size),I(this,"enabledCount",()=>this.enabledValues().length),I(this,"values",()=>Array.from(this.descendants.values()).sort((t,n)=>t.index-n.index)),I(this,"enabledValues",()=>this.values().filter(e=>!e.disabled)),I(this,"item",e=>{if(this.count()!==0)return this.values()[e]}),I(this,"enabledItem",e=>{if(this.enabledCount()!==0)return this.enabledValues()[e]}),I(this,"first",()=>this.item(0)),I(this,"firstEnabled",()=>this.enabledItem(0)),I(this,"last",()=>this.item(this.descendants.size-1)),I(this,"lastEnabled",()=>{const e=this.enabledValues().length-1;return this.enabledItem(e)}),I(this,"indexOf",e=>{var t,n;return e&&(n=(t=this.descendants.get(e))==null?void 0:t.index)!=null?n:-1}),I(this,"enabledIndexOf",e=>e==null?-1:this.enabledValues().findIndex(t=>t.node.isSameNode(e))),I(this,"next",(e,t=!0)=>{const n=ie(e,this.count(),t);return this.item(n)}),I(this,"nextEnabled",(e,t=!0)=>{const n=this.item(e);if(!n)return;const r=this.enabledIndexOf(n.node),o=ie(r,this.enabledCount(),t);return this.enabledItem(o)}),I(this,"prev",(e,t=!0)=>{const n=ce(e,this.count()-1,t);return this.item(n)}),I(this,"prevEnabled",(e,t=!0)=>{const n=this.item(e);if(!n)return;const r=this.enabledIndexOf(n.node),o=ce(r,this.enabledCount()-1,t);return this.enabledItem(o)}),I(this,"registerNode",(e,t)=>{if(!e||this.descendants.has(e))return;const n=Array.from(this.descendants.keys()).concat(e),r=ue(n);t!=null&&t.disabled&&(t.disabled=!!t.disabled);const o={node:e,index:-1,...t};this.descendants.set(e,o),this.assignIndex(r)})}};function $e(e,t){if(e!=null){if(typeof e=="function"){e(t);return}try{e.current=t}catch{throw new Error(`Cannot assign value '${t}' to ref '${e}'`)}}}function W(...e){return t=>{e.forEach(n=>{$e(n,t)})}}function Ke(){const e=a.useRef(new We);return ne(()=>()=>e.current.destroy()),e.current}var[Be,he]=oe({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function Ve(e){const t=he(),[n,r]=a.useState(-1),o=a.useRef(null);ne(()=>()=>{o.current&&t.unregister(o.current)},[]),ne(()=>{if(!o.current)return;const u=Number(o.current.dataset.index);n!=u&&!Number.isNaN(u)&&r(u)});const s=Y(e?t.register(e):t.register);return{descendants:t,index:n,enabledIndex:t.enabledIndexOf(o.current),register:W(s,o)}}function He(){return[Y(Be),()=>Y(he()),()=>Ke(),o=>Ve(o)]}function be(e,t,n,r){const o=X(n);return a.useEffect(()=>{const s=typeof e=="function"?e():e??document;if(!(!n||!s))return s.addEventListener(t,o,r),()=>{s.removeEventListener(t,o,r)}},[t,e,r,o,n]),()=>{const s=typeof e=="function"?e():e??document;s==null||s.removeEventListener(t,o,r)}}function ve(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function we(e){var t;if(!ve(e))return!1;const n=(t=e.ownerDocument.defaultView)!=null?t:window;return e instanceof n.HTMLElement}function qe(e){var t,n;return(n=(t=ye(e))==null?void 0:t.defaultView)!=null?n:window}function ye(e){return ve(e)?e.ownerDocument:document}function Ge(e){return ye(e).activeElement}var xe=e=>e.hasAttribute("tabindex"),Xe=e=>xe(e)&&e.tabIndex===-1;function Ye(e){return!!e.getAttribute("disabled")||!!e.getAttribute("aria-disabled")}function ge(e){return e.parentElement&&ge(e.parentElement)?!0:e.hidden}function Ze(e){const t=e.getAttribute("contenteditable");return t!=="false"&&t!=null}function Ee(e){if(!we(e)||ge(e)||Ye(e))return!1;const{localName:t}=e;if(["input","select","textarea","button"].indexOf(t)>=0)return!0;const r={a:()=>e.hasAttribute("href"),audio:()=>e.hasAttribute("controls"),video:()=>e.hasAttribute("controls")};return t in r?r[t]():Ze(e)?!0:xe(e)}function Je(e){return e?we(e)&&Ee(e)&&!Xe(e):!1}var Qe=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],et=Qe.join(),tt=e=>e.offsetWidth>0&&e.offsetHeight>0;function nt(e){const t=Array.from(e.querySelectorAll(et));return t.unshift(e),t.filter(n=>Ee(n)&&tt(n))}function rt(e){const{key:t}=e;return t.length===1||t.length>1&&/[^a-zA-Z0-9]/.test(t)}function ot(e={}){const{timeout:t=300,preventDefault:n=()=>!0}=e,[r,o]=a.useState([]),s=a.useRef(),u=()=>{s.current&&(clearTimeout(s.current),s.current=null)},c=()=>{u(),s.current=setTimeout(()=>{o([]),s.current=null},t)};a.useEffect(()=>u,[]);function d(p){return l=>{if(l.key==="Backspace"){const f=[...r];f.pop(),o(f);return}if(rt(l)){const f=r.concat(l.key);n(l)&&(l.preventDefault(),l.stopPropagation()),o(f),p(f.join("")),c()}}}return d}function st(e,t,n,r){if(t==null)return r;if(!r)return e.find(u=>n(u).toLowerCase().startsWith(t.toLowerCase()));const o=e.filter(s=>n(s).toLowerCase().startsWith(t.toLowerCase()));if(o.length>0){let s;return o.includes(r)?(s=o.indexOf(r)+1,s===o.length&&(s=0),o[s]):(s=e.indexOf(o[0]),e[s])}return r}function at(){const e=a.useRef(new Map),t=e.current,n=a.useCallback((o,s,u,c)=>{e.current.set(u,{type:s,el:o,options:c}),o.addEventListener(s,u,c)},[]),r=a.useCallback((o,s,u,c)=>{o.removeEventListener(s,u,c),e.current.delete(u)},[]);return a.useEffect(()=>()=>{t.forEach((o,s)=>{r(o.el,o.type,s,o.options)})},[r,t]),{add:n,remove:r}}function Q(e){const t=e.target,{tagName:n,isContentEditable:r}=t;return n!=="INPUT"&&n!=="TEXTAREA"&&r!==!0}function ut(e={}){const{ref:t,isDisabled:n,isFocusable:r,clickOnEnter:o=!0,clickOnSpace:s=!0,onMouseDown:u,onMouseUp:c,onClick:d,onKeyDown:p,onKeyUp:l,tabIndex:f,onMouseOver:w,onMouseLeave:y,..._}=e,[v,x]=a.useState(!0),[h,b]=a.useState(!1),g=at(),E=i=>{i&&i.tagName!=="BUTTON"&&x(!1)},P=v?f:f||0,O=n&&!r,C=a.useCallback(i=>{if(n){i.stopPropagation(),i.preventDefault();return}i.currentTarget.focus(),d==null||d(i)},[n,d]),M=a.useCallback(i=>{h&&Q(i)&&(i.preventDefault(),i.stopPropagation(),b(!1),g.remove(document,"keyup",M,!1))},[h,g]),N=a.useCallback(i=>{if(p==null||p(i),n||i.defaultPrevented||i.metaKey||!Q(i.nativeEvent)||v)return;const z=o&&i.key==="Enter";s&&i.key===" "&&(i.preventDefault(),b(!0)),z&&(i.preventDefault(),i.currentTarget.click()),g.add(document,"keyup",M,!1)},[n,v,p,o,s,g,M]),m=a.useCallback(i=>{if(l==null||l(i),n||i.defaultPrevented||i.metaKey||!Q(i.nativeEvent)||v)return;s&&i.key===" "&&(i.preventDefault(),b(!1),i.currentTarget.click())},[s,v,n,l]),k=a.useCallback(i=>{i.button===0&&(b(!1),g.remove(document,"mouseup",k,!1))},[g]),F=a.useCallback(i=>{if(i.button!==0)return;if(n){i.stopPropagation(),i.preventDefault();return}v||b(!0),i.currentTarget.focus({preventScroll:!0}),g.add(document,"mouseup",k,!1),u==null||u(i)},[n,v,u,g,k]),R=a.useCallback(i=>{i.button===0&&(v||b(!1),c==null||c(i))},[c,v]),j=a.useCallback(i=>{if(n){i.preventDefault();return}w==null||w(i)},[n,w]),U=a.useCallback(i=>{h&&(i.preventDefault(),b(!1)),y==null||y(i)},[h,y]),L=W(t,E);return v?{..._,ref:L,type:"button","aria-disabled":O?void 0:n,disabled:O,onClick:C,onMouseDown:u,onMouseUp:c,onKeyUp:l,onKeyDown:p,onMouseOver:w,onMouseLeave:y}:{..._,ref:L,role:"button","data-active":me(h),"aria-disabled":n?"true":void 0,tabIndex:O?void 0:P,onClick:C,onMouseDown:F,onMouseUp:R,onKeyUp:m,onKeyDown:N,onMouseOver:j,onMouseLeave:U}}function it(e){const t=e.current;if(!t)return!1;const n=Ge(t);return!n||t.contains(n)?!1:!!Je(n)}function ct(e,t){const{shouldFocus:n,visible:r,focusRef:o}=t,s=n&&!r;Z(()=>{if(!s||it(e))return;const u=(o==null?void 0:o.current)||e.current;let c;if(u)return c=requestAnimationFrame(()=>{u.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(c)}},[s,e,o])}var lt={preventScroll:!0,shouldFocus:!1};function nn(e,t=lt){const{focusRef:n,preventScroll:r,shouldFocus:o,visible:s}=t,u=dt(e)?e.current:e,c=o&&s,d=a.useRef(c),p=a.useRef(s);Pe(()=>{!p.current&&s&&(d.current=c),p.current=s},[s,c]);const l=a.useCallback(()=>{if(!(!s||!u||!d.current)&&(d.current=!1,!u.contains(document.activeElement)))if(n!=null&&n.current)requestAnimationFrame(()=>{var f;(f=n.current)==null||f.focus({preventScroll:r})});else{const f=nt(u);f.length>0&&requestAnimationFrame(()=>{f[0].focus({preventScroll:r})})}},[s,r,u,n]);Z(()=>{l()},[l]),be(u,"transitionend",l)}function dt(e){return"current"in e}var K=(e,t)=>({var:e,varRef:t?`var(${e}, ${t})`:`var(${e})`}),A={arrowShadowColor:K("--popper-arrow-shadow-color"),arrowSize:K("--popper-arrow-size","8px"),arrowSizeHalf:K("--popper-arrow-size-half"),arrowBg:K("--popper-arrow-bg"),transformOrigin:K("--popper-transform-origin"),arrowOffset:K("--popper-arrow-offset")};function ft(e){if(e.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(e.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(e.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(e.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}var pt={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},mt=e=>pt[e],le={scroll:!0,resize:!0};function ht(e){let t;return typeof e=="object"?t={enabled:!0,options:{...le,...e}}:t={enabled:e,options:le},t}var bt={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:e})=>{e.styles.popper.width=`${e.rects.reference.width}px`},effect:({state:e})=>()=>{const t=e.elements.reference;e.elements.popper.style.width=`${t.offsetWidth}px`}},vt={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:e})=>{de(e)},effect:({state:e})=>()=>{de(e)}},de=e=>{e.elements.popper.style.setProperty(A.transformOrigin.var,mt(e.placement))},wt={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:e})=>{yt(e)}},yt=e=>{var t;if(!e.placement)return;const n=xt(e.placement);if((t=e.elements)!=null&&t.arrow&&n){Object.assign(e.elements.arrow.style,{[n.property]:n.value,width:A.arrowSize.varRef,height:A.arrowSize.varRef,zIndex:-1});const r={[A.arrowSizeHalf.var]:`calc(${A.arrowSize.varRef} / 2 - 1px)`,[A.arrowOffset.var]:`calc(${A.arrowSizeHalf.varRef} * -1)`};for(const o in r)e.elements.arrow.style.setProperty(o,r[o])}},xt=e=>{if(e.startsWith("top"))return{property:"bottom",value:A.arrowOffset.varRef};if(e.startsWith("bottom"))return{property:"top",value:A.arrowOffset.varRef};if(e.startsWith("left"))return{property:"right",value:A.arrowOffset.varRef};if(e.startsWith("right"))return{property:"left",value:A.arrowOffset.varRef}},gt={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:e})=>{fe(e)},effect:({state:e})=>()=>{fe(e)}},fe=e=>{if(!e.elements.arrow)return;const t=e.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!t)return;const n=ft(e.placement);n&&t.style.setProperty("--popper-arrow-default-shadow",n),Object.assign(t.style,{transform:"rotate(45deg)",background:A.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},Et={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},Ct={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function It(e,t="ltr"){var n,r;const o=((n=Et[e])==null?void 0:n[t])||e;return t==="ltr"?o:(r=Ct[e])!=null?r:o}function Ot(e={}){const{enabled:t=!0,modifiers:n,placement:r="bottom",strategy:o="absolute",arrowPadding:s=8,eventListeners:u=!0,offset:c,gutter:d=8,flip:p=!0,boundary:l="clippingParents",preventOverflow:f=!0,matchWidth:w,direction:y="ltr"}=e,_=a.useRef(null),v=a.useRef(null),x=a.useRef(null),h=It(r,y),b=a.useRef(()=>{}),g=a.useCallback(()=>{var m;!t||!_.current||!v.current||((m=b.current)==null||m.call(b),x.current=Fe(_.current,v.current,{placement:h,modifiers:[gt,wt,vt,{...bt,enabled:!!w},{name:"eventListeners",...ht(u)},{name:"arrow",options:{padding:s}},{name:"offset",options:{offset:c??[0,d]}},{name:"flip",enabled:!!p,options:{padding:8}},{name:"preventOverflow",enabled:!!f,options:{boundary:l}},...n??[]],strategy:o}),x.current.forceUpdate(),b.current=x.current.destroy)},[h,t,n,w,u,s,c,d,p,f,l,o]);a.useEffect(()=>()=>{var m;!_.current&&!v.current&&((m=x.current)==null||m.destroy(),x.current=null)},[]);const E=a.useCallback(m=>{_.current=m,g()},[g]),P=a.useCallback((m={},k=null)=>({...m,ref:W(E,k)}),[E]),O=a.useCallback(m=>{v.current=m,g()},[g]),C=a.useCallback((m={},k=null)=>({...m,ref:W(O,k),style:{...m.style,position:o,minWidth:w?void 0:"max-content",inset:"0 auto auto 0"}}),[o,O,w]),M=a.useCallback((m={},k=null)=>{const{size:F,shadowColor:R,bg:j,style:U,...L}=m;return{...L,ref:k,"data-popper-arrow":"",style:Mt(m)}},[]),N=a.useCallback((m={},k=null)=>({...m,ref:k,"data-popper-arrow-inner":""}),[]);return{update(){var m;(m=x.current)==null||m.update()},forceUpdate(){var m;(m=x.current)==null||m.forceUpdate()},transformOrigin:A.transformOrigin.varRef,referenceRef:E,popperRef:O,getPopperProps:C,getArrowProps:M,getArrowInnerProps:N,getReferenceProps:P}}function Mt(e){const{size:t,shadowColor:n,bg:r,style:o}=e,s={...o,position:"absolute"};return t&&(s["--popper-arrow-size"]=t),n&&(s["--popper-arrow-shadow-color"]=n),r&&(s["--popper-arrow-bg"]=r),s}function _t(e={}){const{onClose:t,onOpen:n,isOpen:r,id:o}=e,s=X(n),u=X(t),[c,d]=a.useState(e.defaultIsOpen||!1),p=r!==void 0?r:c,l=r!==void 0,f=a.useId(),w=o??`disclosure-${f}`,y=a.useCallback(()=>{l||d(!1),u==null||u()},[l,u]),_=a.useCallback(()=>{l||d(!0),s==null||s()},[l,s]),v=a.useCallback(()=>{p?y():_()},[p,_,y]);function x(b={}){return{...b,"aria-expanded":p,"aria-controls":w,onClick(g){var E;(E=b.onClick)==null||E.call(b,g),v()}}}function h(b={}){return{...b,hidden:!p,id:w}}return{isOpen:p,onOpen:_,onClose:y,onToggle:v,isControlled:l,getButtonProps:x,getDisclosureProps:h}}function kt(e){const{ref:t,handler:n,enabled:r=!0}=e,o=X(n),u=a.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;a.useEffect(()=>{if(!r)return;const c=f=>{ee(f,t)&&(u.isPointerDown=!0)},d=f=>{if(u.ignoreEmulatedMouseEvents){u.ignoreEmulatedMouseEvents=!1;return}u.isPointerDown&&n&&ee(f,t)&&(u.isPointerDown=!1,o(f))},p=f=>{u.ignoreEmulatedMouseEvents=!0,n&&u.isPointerDown&&ee(f,t)&&(u.isPointerDown=!1,o(f))},l=Ce(t.current);return l.addEventListener("mousedown",c,!0),l.addEventListener("mouseup",d,!0),l.addEventListener("touchstart",c,!0),l.addEventListener("touchend",p,!0),()=>{l.removeEventListener("mousedown",c,!0),l.removeEventListener("mouseup",d,!0),l.removeEventListener("touchstart",c,!0),l.removeEventListener("touchend",p,!0)}},[n,t,o,u,r])}function ee(e,t){var n;const r=e.target;return r&&!Ce(r).contains(r)?!1:!((n=t.current)!=null&&n.contains(r))}function Ce(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function Dt(e){const{isOpen:t,ref:n}=e,[r,o]=a.useState(t),[s,u]=a.useState(!1);return a.useEffect(()=>{s||(o(t),u(!0))},[t,s,r]),be(()=>n.current,"animationend",()=>{o(t)}),{present:!(t?!1:!r),onComplete(){var d;const p=qe(n.current),l=new p.CustomEvent("animationend",{bubbles:!0});(d=n.current)==null||d.dispatchEvent(l)}}}function Pt(e){const{wasSelected:t,enabled:n,isSelected:r,mode:o="unmount"}=e;return!!(!n||r||o==="keepMounted"&&t)}var[St,Nt,Tt,At]=He(),[Rt,H]=oe({strict:!1,name:"MenuContext"});function Lt(e,...t){const n=a.useId(),r=e||n;return a.useMemo(()=>t.map(o=>`${o}-${r}`),[r,t])}function Ie(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function pe(e){return Ie(e).activeElement===e}function Ft(e={}){const{id:t,closeOnSelect:n=!0,closeOnBlur:r=!0,initialFocusRef:o,autoSelect:s=!0,isLazy:u,isOpen:c,defaultIsOpen:d,onClose:p,onOpen:l,placement:f="bottom-start",lazyBehavior:w="unmount",direction:y,computePositionOnMount:_=!1,...v}=e,x=a.useRef(null),h=a.useRef(null),b=Tt(),g=a.useCallback(()=>{requestAnimationFrame(()=>{var S;(S=x.current)==null||S.focus({preventScroll:!1})})},[]),E=a.useCallback(()=>{const S=setTimeout(()=>{var T;if(o)(T=o.current)==null||T.focus();else{const G=b.firstEnabled();G&&R(G.index)}});z.current.add(S)},[b,o]),P=a.useCallback(()=>{const S=setTimeout(()=>{const T=b.lastEnabled();T&&R(T.index)});z.current.add(S)},[b]),O=a.useCallback(()=>{l==null||l(),s?E():g()},[s,E,g,l]),{isOpen:C,onOpen:M,onClose:N,onToggle:m}=_t({isOpen:c,defaultIsOpen:d,onClose:p,onOpen:O});kt({enabled:C&&r,ref:x,handler:S=>{var T;(T=h.current)!=null&&T.contains(S.target)||N()}});const k=Ot({...v,enabled:C||_,placement:f,direction:y}),[F,R]=a.useState(-1);Z(()=>{C||R(-1)},[C]),ct(x,{focusRef:h,visible:C,shouldFocus:!0});const j=Dt({isOpen:C,ref:x}),[U,L]=Lt(t,"menu-button","menu-list"),i=a.useCallback(()=>{M(),g()},[M,g]),z=a.useRef(new Set([]));a.useEffect(()=>{const S=z.current;return()=>{S.forEach(T=>clearTimeout(T)),S.clear()}},[]);const J=a.useCallback(()=>{M(),E()},[E,M]),se=a.useCallback(()=>{M(),P()},[M,P]),_e=a.useCallback(()=>{var S,T;const G=Ie(x.current),De=(S=x.current)==null?void 0:S.contains(G.activeElement);if(!(C&&!De))return;const ae=(T=b.item(F))==null?void 0:T.node;ae==null||ae.focus({preventScroll:!0})},[C,F,b]),ke=a.useRef(null);return{openAndFocusMenu:i,openAndFocusFirstItem:J,openAndFocusLastItem:se,onTransitionEnd:_e,unstable__animationState:j,descendants:b,popper:k,buttonId:U,menuId:L,forceUpdate:k.forceUpdate,orientation:"vertical",isOpen:C,onToggle:m,onOpen:M,onClose:N,menuRef:x,buttonRef:h,focusedIndex:F,closeOnSelect:n,closeOnBlur:r,autoSelect:s,setFocusedIndex:R,isLazy:u,lazyBehavior:w,initialFocusRef:o,rafId:ke}}function jt(e={},t=null){const n=H(),{onToggle:r,popper:o,openAndFocusFirstItem:s,openAndFocusLastItem:u}=n,c=a.useCallback(d=>{const p=d.key,f={Enter:s,ArrowDown:s,ArrowUp:u}[p];f&&(d.preventDefault(),d.stopPropagation(),f(d))},[s,u]);return{...e,ref:W(n.buttonRef,t,o.referenceRef),id:n.buttonId,"data-active":me(n.isOpen),"aria-expanded":n.isOpen,"aria-haspopup":"menu","aria-controls":n.menuId,onClick:te(e.onClick,r),onKeyDown:te(e.onKeyDown,c)}}function re(e){var t;return $t(e)&&!!((t=e==null?void 0:e.getAttribute("role"))!=null&&t.startsWith("menuitem"))}function zt(e={},t=null){const n=H();if(!n)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:r,setFocusedIndex:o,menuRef:s,isOpen:u,onClose:c,menuId:d,isLazy:p,lazyBehavior:l,unstable__animationState:f}=n,w=Nt(),y=ot({preventDefault:h=>h.key!==" "&&re(h.target)}),_=a.useCallback(h=>{if(!h.currentTarget.contains(h.target))return;const b=h.key,E={Tab:O=>O.preventDefault(),Escape:c,ArrowDown:()=>{const O=w.nextEnabled(r);O&&o(O.index)},ArrowUp:()=>{const O=w.prevEnabled(r);O&&o(O.index)}}[b];if(E){h.preventDefault(),E(h);return}const P=y(O=>{const C=st(w.values(),O,M=>{var N,m;return(m=(N=M==null?void 0:M.node)==null?void 0:N.textContent)!=null?m:""},w.item(r));if(C){const M=w.indexOf(C.node);o(M)}});re(h.target)&&P(h)},[w,r,y,c,o]),v=a.useRef(!1);u&&(v.current=!0);const x=Pt({wasSelected:v.current,enabled:p,mode:l,isSelected:f.present});return{...e,ref:W(s,t),children:x?e.children:null,tabIndex:-1,role:"menu",id:d,style:{...e.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:te(e.onKeyDown,_)}}function Ut(e={}){const{popper:t,isOpen:n}=H();return t.getPopperProps({...e,style:{visibility:n?"visible":"hidden",...e.style}})}function Wt(e={},t=null){const{onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onClick:s,onFocus:u,isDisabled:c,isFocusable:d,closeOnSelect:p,type:l,...f}=e,w=H(),{setFocusedIndex:y,focusedIndex:_,closeOnSelect:v,onClose:x,menuRef:h,isOpen:b,menuId:g,rafId:E}=w,P=a.useRef(null),O=`${g}-menuitem-${a.useId()}`,{index:C,register:M}=At({disabled:c&&!d}),N=a.useCallback(i=>{n==null||n(i),!c&&y(C)},[y,C,c,n]),m=a.useCallback(i=>{r==null||r(i),P.current&&!pe(P.current)&&N(i)},[N,r]),k=a.useCallback(i=>{o==null||o(i),!c&&y(-1)},[y,c,o]),F=a.useCallback(i=>{s==null||s(i),re(i.currentTarget)&&(p??v)&&x()},[x,s,v,p]),R=a.useCallback(i=>{u==null||u(i),y(C)},[y,u,C]),j=C===_,U=c&&!d;Z(()=>{if(b)return j&&!U&&P.current?(E.current&&cancelAnimationFrame(E.current),E.current=requestAnimationFrame(()=>{var i;(i=P.current)==null||i.focus({preventScroll:!0}),E.current=null})):h.current&&!pe(h.current)&&h.current.focus({preventScroll:!0}),()=>{E.current&&cancelAnimationFrame(E.current)}},[j,U,h,b]);const L=ut({onClick:F,onFocus:R,onMouseEnter:N,onMouseMove:m,onMouseLeave:k,ref:W(M,P,t),isDisabled:c,isFocusable:d});return{...f,...L,type:l??L.type,id:O,role:"menuitem",tabIndex:j?0:-1}}function $t(e){var t;if(!Kt(e))return!1;const n=(t=e.ownerDocument.defaultView)!=null?t:window;return e instanceof n.HTMLElement}function Kt(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}var[Bt,q]=oe({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),Vt=e=>{const{children:t}=e,n=Se("Menu",e),r=Ne(e),{direction:o}=Te(),{descendants:s,...u}=Ft({...r,direction:o}),c=a.useMemo(()=>u,[u]),{isOpen:d,onClose:p,forceUpdate:l}=c;return D.jsx(St,{value:s,children:D.jsx(Rt,{value:c,children:D.jsx(Bt,{value:n,children:Ae(t,{isOpen:d,onClose:p,forceUpdate:l})})})})};Vt.displayName="Menu";var Oe=B((e,t)=>{const n=q();return D.jsx($.span,{ref:t,...e,__css:n.command,className:"chakra-menu__command"})});Oe.displayName="MenuCommand";var Ht=B((e,t)=>{const{type:n,...r}=e,o=q(),s=r.as||n?n??void 0:"button",u=a.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...o.item}),[o.item]);return D.jsx($.button,{ref:t,type:s,...r,__css:u})}),Me=e=>{const{className:t,children:n,...r}=e,o=q(),s=a.Children.only(n),u=a.isValidElement(s)?a.cloneElement(s,{focusable:"false","aria-hidden":!0,className:V("chakra-menu__icon",s.props.className)}):null,c=V("chakra-menu__icon-wrapper",t);return D.jsx($.span,{className:c,...r,__css:o.icon,children:u})};Me.displayName="MenuIcon";var qt=B((e,t)=>{const{icon:n,iconSpacing:r="0.75rem",command:o,commandSpacing:s="0.75rem",children:u,...c}=e,d=Wt(c,t),l=n||o?D.jsx("span",{style:{pointerEvents:"none",flex:1},children:u}):u;return D.jsxs(Ht,{...d,className:V("chakra-menu__menuitem",d.className),children:[n&&D.jsx(Me,{fontSize:"0.8em",marginEnd:r,children:n}),l,o&&D.jsx(Oe,{marginStart:s,children:o})]})});qt.displayName="MenuItem";var Gt={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},Xt=$(Re.div),Yt=B(function(t,n){var r,o;const{rootProps:s,motionProps:u,...c}=t,{isOpen:d,onTransitionEnd:p,unstable__animationState:l}=H(),f=zt(c,n),w=Ut(s),y=q();return D.jsx($.div,{...w,__css:{zIndex:(o=t.zIndex)!=null?o:(r=y.list)==null?void 0:r.zIndex},children:D.jsx(Xt,{variants:Gt,initial:!1,animate:d?"enter":"exit",__css:{outline:0,...y.list},...u,className:V("chakra-menu__menu-list",f.className),...f,onUpdate:p,onAnimationComplete:Le(l.onComplete,f.onAnimationComplete)})})});Yt.displayName="MenuList";var Zt=B((e,t)=>{const n=q();return D.jsx($.button,{ref:t,...e,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...n.button}})}),Jt=B((e,t)=>{const{children:n,as:r,...o}=e,s=jt(o,t),u=r||Zt;return D.jsx(u,{...s,className:V("chakra-menu__menu-button",e.className),children:D.jsx($.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:e.children})})});Jt.displayName="MenuButton";export{Vt as M,Jt as a,Yt as b,qt as c,_t as d,Ot as e,Dt as f,ct as g,nn as h,we as i,A as j,Pt as l,W as m,be as u};
