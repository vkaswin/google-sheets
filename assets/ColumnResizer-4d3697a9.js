import{r as u,j as s}from"./index-ba7c151b.js";const C=({columns:c,onResize:x,onClick:w})=>{const[e,i]=u.useState(null),[h,f]=u.useState(!1),[g,v]=u.useState(!1),r=u.useRef(null),o=u.useRef(null),b=n=>{!r.current||!e||(o.current=n.pageX,r.current.setPointerCapture(n.pointerId),r.current.addEventListener("pointermove",p),r.current.addEventListener("pointerup",M,{once:!0}),f(!0))},p=n=>{if(!r.current||!o.current||!e)return;let{pageX:t}=n,l=e.width+-(o.current-t);l<50||i({...e,width:l})},M=n=>{if(!r.current||!e||!o.current)return;let{pageX:t}=n;r.current.removeEventListener("pointermove",p);let l=e.width+-(o.current-t);x(e.columnId,Math.max(50,l)),o.current=null,i(null),f(!1)},j=()=>{v(!g)},R=n=>{let t=0,l=c.length-1,d=null;for(;t<=l;){let a=Math.floor((t+l)/2);c[a].x<=n?(t=a+1,d=a):l=a-1}return d===null?null:d},z=n=>{if(h)return;let t=R(n.pageX);t===null||(e==null?void 0:e.columnId)===t||i({...c[t]})},L=()=>{i(null)},m=()=>{e&&w(e.columnId)};return s.jsxs(u.Fragment,{children:[s.jsx("div",{className:"absolute left-0 top-0 w-full h-[var(--row-height)] z-20",onMouseMove:z,onMouseLeave:L,children:e&&s.jsxs("div",{className:"absolute",style:{width:e.width,height:e.height,left:e.x,top:e.y},onClick:m,onContextMenu:m,children:[s.jsx("div",{className:"absolute top-0 -right-3 w-6 h-full bg-transparent",onMouseEnter:j}),s.jsxs("div",{ref:r,className:"absolute top-0 -right-[5px] flex gap-[5px] items-center h-full cursor-col-resize",onPointerDown:b,children:[s.jsx("div",{className:"bg-black rounded-md w-[3px] h-2/3"}),s.jsx("div",{className:"bg-black rounded-md w-[3px] h-2/3"})]})]})}),e&&h&&s.jsx("div",{className:"absolute w-[3px] h-full bg-slate-400 z-10",style:{left:e.x+e.width-2,top:0}})]})};export{C as default};
