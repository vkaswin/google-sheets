import{r as u,j as o}from"./index-ba7c151b.js";const y=({rows:a,onClick:m,onResize:w})=>{const[e,i]=u.useState(null),[f,p]=u.useState(!1),l=u.useRef(null),s=u.useRef(null),d=u.useRef(null),v=n=>{!l.current||!e||(s.current=n.pageY,l.current.setPointerCapture(n.pointerId),l.current.addEventListener("pointermove",x),l.current.addEventListener("pointerup",R,{once:!0}),p(!0))},x=n=>{if(!l.current||!s.current||!e)return;let{pageY:r}=n,t=e.height+-(s.current-r);t<=25||i({...e,height:t})},R=n=>{if(!l.current||!e||!s.current)return;let{pageY:r}=n;l.current.removeEventListener("pointermove",x);let t=e.height+-(s.current-r);w(e.rowId,Math.max(25,t)),s.current=null,i(null),p(!1)},b=n=>{let r=0,t=a.length-1,h=null;for(;r<=t;){let c=Math.floor((r+t)/2);a[c].y<=n?(r=c+1,h=c):t=c-1}return h===null?null:h},M=n=>{if(!d.current||f)return;let{top:r}=d.current.getBoundingClientRect(),t=b(n.pageY-r);t===null||(e==null?void 0:e.rowId)===t||i({...a[t]})},j=()=>{i(null)},g=()=>{e&&m(e.rowId)};return o.jsxs(u.Fragment,{children:[o.jsx("div",{ref:d,className:"absolute left-0 top-0 w-[var(--col-width)] h-full z-20",onMouseMove:M,onMouseLeave:j,children:e&&o.jsx("div",{className:"absolute",style:{width:e.width,height:e.height,left:e.x,top:e.y},onClick:g,onContextMenu:g,children:o.jsxs("div",{ref:l,className:"absolute left-0 -bottom-[5px] flex flex-col items-center gap-[5px] w-full cursor-row-resize",onPointerDown:v,children:[o.jsx("div",{className:"bg-black rounded-md h-[3px] w-3/5"}),o.jsx("div",{className:"bg-black rounded-md h-[3px] w-3/5"})]})})}),e&&f&&o.jsx("div",{className:"absolute h-[3px] w-full bg-slate-400 z-10",style:{left:0,top:e.y+e.height-2}})]})};export{y as default};
